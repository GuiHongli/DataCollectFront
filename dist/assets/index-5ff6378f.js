import{s as w}from"./request-a0feafd1.js";import{_ as q,r as g,g as D,o as R,a as r,i as M,b as k,c as h,d as b,e as o,w as a,E as P,j as C,f as i,k as A,l as S,t as L,F as G,m as H}from"./index-523b1615.js";const J={name:"Ue",setup(){const V=g(!1),e=g([]),y=g(!1),l=g(""),v=g(),U=g([]),u=D({current:1,size:10,total:0}),s=D({id:null,name:"",ueId:"",purpose:"",networkTypeId:null,description:"",status:1}),p={name:[{required:!0,message:"请输入UE名称",trigger:"blur"}],ueId:[{required:!0,message:"请输入UE ID",trigger:"blur"}],purpose:[{required:!0,message:"请输入用途",trigger:"blur"}],networkTypeId:[{required:!0,message:"请选择网络类型",trigger:"change"}]},m=async()=>{V.value=!0;try{const n={current:u.current,size:u.size},f=await w({url:"/ue/page",method:"get",params:n});e.value=f.data.records,u.total=f.data.total}catch(n){console.error("加载数据失败:",n)}finally{V.value=!1}},d=async()=>{try{const n=await w({url:"/network-type/list",method:"get"});U.value=n.data}catch(n){console.error("加载网络类型数据失败:",n)}},E=()=>{l.value="新增UE",y.value=!0,_()},I=n=>{l.value="编辑UE",Object.assign(s,n),y.value=!0},z=async n=>{try{await P.confirm("确定要删除这个UE吗？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}),await w({url:`/ue/${n.id}`,method:"delete"}),C.success("删除成功"),m()}catch(f){f!=="cancel"&&C.error("删除失败")}},T=async()=>{try{await v.value.validate(),s.id?(await w({url:`/ue/${s.id}`,method:"put",data:s}),C.success("更新成功")):(await w({url:"/ue",method:"post",data:s}),C.success("创建成功")),y.value=!1,m()}catch(n){console.error("提交失败:",n)}},_=()=>{Object.assign(s,{id:null,name:"",ueId:"",purpose:"",networkTypeId:null,description:"",status:1}),v.value&&v.value.resetFields()},c=n=>{u.size=n,m()},x=n=>{u.current=n,m()};return R(()=>{m(),d()}),{loading:V,tableData:e,pagination:u,dialogVisible:y,dialogTitle:l,formRef:v,form:s,rules:p,networkTypeOptions:U,loadData:m,handleAdd:E,handleEdit:I,handleDelete:z,handleSubmit:T,resetForm:_,handleSizeChange:c,handleCurrentChange:x}}},K={class:"ue-page"},Q={class:"table-operations"},W={class:"pagination"},X={class:"dialog-footer"};function Y(V,e,y,l,v,U){const u=r("Plus"),s=r("el-icon"),p=r("el-button"),m=r("Refresh"),d=r("el-table-column"),E=r("el-tag"),I=r("el-table"),z=r("el-pagination"),T=r("el-card"),_=r("el-input"),c=r("el-form-item"),x=r("el-option"),n=r("el-select"),f=r("el-radio"),B=r("el-radio-group"),F=r("el-form"),N=r("el-dialog"),O=M("loading");return k(),h("div",K,[e[18]||(e[18]=b("div",{class:"page-header"},[b("h2",{class:"page-title"},"UE管理"),b("p",{class:"page-description"},"管理UE信息，包括UE ID、用途、网络类型等")],-1)),o(T,null,{default:a(()=>[b("div",Q,[o(p,{type:"primary",onClick:l.handleAdd},{default:a(()=>[o(s,null,{default:a(()=>[o(u)]),_:1}),e[10]||(e[10]=i(" 新增UE ",-1))]),_:1,__:[10]},8,["onClick"]),o(p,{onClick:l.loadData},{default:a(()=>[o(s,null,{default:a(()=>[o(m)]),_:1}),e[11]||(e[11]=i(" 刷新 ",-1))]),_:1,__:[11]},8,["onClick"])]),A((k(),S(I,{data:l.tableData,style:{width:"100%"}},{default:a(()=>[o(d,{prop:"name",label:"UE名称"}),o(d,{prop:"ueId",label:"UE ID"}),o(d,{prop:"purpose",label:"用途"}),o(d,{prop:"networkTypeName",label:"网络类型"}),o(d,{prop:"description",label:"描述"}),o(d,{prop:"status",label:"状态"},{default:a(t=>[o(E,{type:t.row.status===1?"success":"danger"},{default:a(()=>[i(L(t.row.status===1?"启用":"禁用"),1)]),_:2},1032,["type"])]),_:1}),o(d,{prop:"createTime",label:"创建时间"}),o(d,{label:"操作",width:"200"},{default:a(t=>[o(p,{size:"small",onClick:j=>l.handleEdit(t.row)},{default:a(()=>e[12]||(e[12]=[i("编辑",-1)])),_:2,__:[12]},1032,["onClick"]),o(p,{size:"small",type:"danger",onClick:j=>l.handleDelete(t.row)},{default:a(()=>e[13]||(e[13]=[i("删除",-1)])),_:2,__:[13]},1032,["onClick"])]),_:1})]),_:1},8,["data"])),[[O,l.loading]]),b("div",W,[o(z,{"current-page":l.pagination.current,"onUpdate:currentPage":e[0]||(e[0]=t=>l.pagination.current=t),"page-size":l.pagination.size,"onUpdate:pageSize":e[1]||(e[1]=t=>l.pagination.size=t),"page-sizes":[10,20,50,100],total:l.pagination.total,layout:"total, sizes, prev, pager, next, jumper",onSizeChange:l.handleSizeChange,onCurrentChange:l.handleCurrentChange},null,8,["current-page","page-size","total","onSizeChange","onCurrentChange"])])]),_:1}),o(N,{modelValue:l.dialogVisible,"onUpdate:modelValue":e[9]||(e[9]=t=>l.dialogVisible=t),title:l.dialogTitle,width:"500px",onClose:l.resetForm},{footer:a(()=>[b("span",X,[o(p,{onClick:e[8]||(e[8]=t=>l.dialogVisible=!1)},{default:a(()=>e[16]||(e[16]=[i("取消",-1)])),_:1,__:[16]}),o(p,{type:"primary",onClick:l.handleSubmit},{default:a(()=>e[17]||(e[17]=[i("确定",-1)])),_:1,__:[17]},8,["onClick"])])]),default:a(()=>[o(F,{ref:"formRef",model:l.form,rules:l.rules,"label-width":"100px"},{default:a(()=>[o(c,{label:"UE名称",prop:"name"},{default:a(()=>[o(_,{modelValue:l.form.name,"onUpdate:modelValue":e[2]||(e[2]=t=>l.form.name=t),placeholder:"请输入UE名称"},null,8,["modelValue"])]),_:1}),o(c,{label:"UE ID",prop:"ueId"},{default:a(()=>[o(_,{modelValue:l.form.ueId,"onUpdate:modelValue":e[3]||(e[3]=t=>l.form.ueId=t),placeholder:"请输入UE ID"},null,8,["modelValue"])]),_:1}),o(c,{label:"用途",prop:"purpose"},{default:a(()=>[o(_,{modelValue:l.form.purpose,"onUpdate:modelValue":e[4]||(e[4]=t=>l.form.purpose=t),placeholder:"请输入用途"},null,8,["modelValue"])]),_:1}),o(c,{label:"网络类型",prop:"networkTypeId"},{default:a(()=>[o(n,{modelValue:l.form.networkTypeId,"onUpdate:modelValue":e[5]||(e[5]=t=>l.form.networkTypeId=t),placeholder:"请选择网络类型",style:{width:"100%"}},{default:a(()=>[(k(!0),h(G,null,H(l.networkTypeOptions,t=>(k(),S(x,{key:t.id,label:t.name,value:t.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),o(c,{label:"描述",prop:"description"},{default:a(()=>[o(_,{modelValue:l.form.description,"onUpdate:modelValue":e[6]||(e[6]=t=>l.form.description=t),type:"textarea",rows:3,placeholder:"请输入描述"},null,8,["modelValue"])]),_:1}),o(c,{label:"状态",prop:"status"},{default:a(()=>[o(B,{modelValue:l.form.status,"onUpdate:modelValue":e[7]||(e[7]=t=>l.form.status=t)},{default:a(()=>[o(f,{label:1},{default:a(()=>e[14]||(e[14]=[i("启用",-1)])),_:1,__:[14]}),o(f,{label:0},{default:a(()=>e[15]||(e[15]=[i("禁用",-1)])),_:1,__:[15]})]),_:1},8,["modelValue"])]),_:1})]),_:1},8,["model","rules"])]),_:1},8,["modelValue","title","onClose"])])}const ee=q(J,[["render",Y],["__scopeId","data-v-647fedf2"]]);export{ee as default};
