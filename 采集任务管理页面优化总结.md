# 采集任务管理页面优化总结

## 优化背景

根据需求，采集任务管理页面需要简化显示内容，移除一些不需要展示的字段信息，使页面更加简洁明了。

## 移除的字段

### 1. 主表格中移除的字段
- **关联策略** (`strategyName`)
- **执行计划** (`schedule`)
- **失败原因** (`failureReason`)
- **上次运行时间** (`lastRunTime`)
- **下次运行时间** (`nextRunTime`)

### 2. 任务详情对话框中移除的字段
- **关联策略** (`strategyName`)
- **执行计划** (`schedule`)
- **上次运行时间** (`lastRunTime`)
- **下次运行时间** (`nextRunTime`)
- **失败原因** (`failureReason`)

### 3. 用例例次执行信息表格中移除的字段
- **失败原因** (`failureReason`)

## 保留的字段

### 1. 主表格保留的字段
- **任务ID** (`id`)
- **任务名称** (`name`) - 可点击查看详情
- **状态** (`status`)
- **创建时间** (`createTime`)
- **操作** - 启动、停止、删除按钮

### 2. 任务详情对话框保留的字段
- **任务ID** (`id`)
- **任务名称** (`name`)
- **任务状态** (`status`)
- **创建时间** (`createTime`)
- **任务描述** (`description`)

### 3. 用例例次执行信息表格保留的字段
- **用例ID** (`testCaseId`)
- **用例编号** (`testCaseNumber`)
- **用例名称** (`testCaseName`)
- **轮次** (`round`)
- **逻辑环境** (`logicEnvironmentName`)
- **执行机IP** (`executorIp`)
- **执行状态** (`status`)
- **执行结果** (`result`)
- **执行任务ID** (`executionTaskId`)
- **创建时间** (`createTime`)
- **更新时间** (`updateTime`)
- **操作** - 查看详情按钮

## 修改内容

### 1. 表格列调整
```vue
<!-- 修改前 -->
<el-table-column prop="strategyName" label="关联策略" />
<el-table-column prop="schedule" label="执行计划" />
<el-table-column prop="failureReason" label="失败原因" width="200">
  <!-- 失败原因显示逻辑 -->
</el-table-column>
<el-table-column prop="lastRunTime" label="上次运行时间" />
<el-table-column prop="nextRunTime" label="下次运行时间" />

<!-- 修改后 -->
<!-- 已移除上述列 -->
```

### 2. 任务详情基本信息调整
```vue
<!-- 修改前 -->
<el-descriptions-item label="关联策略">{{ selectedTask.strategyName }}</el-descriptions-item>
<el-descriptions-item label="执行计划">{{ selectedTask.schedule || '立即执行' }}</el-descriptions-item>
<el-descriptions-item label="上次运行时间">{{ selectedTask.lastRunTime || '未运行' }}</el-descriptions-item>
<el-descriptions-item label="下次运行时间">{{ selectedTask.nextRunTime || '无' }}</el-descriptions-item>
<el-descriptions-item v-if="selectedTask.status === 'FAILED' && selectedTask.failureReason" label="失败原因">
  <!-- 失败原因显示逻辑 -->
</el-descriptions-item>

<!-- 修改后 -->
<!-- 已移除上述字段 -->
```

### 3. CSS样式清理
```css
/* 移除的样式 */
.failure-reason-text {
  color: #f56c6c;
  font-size: 12px;
  cursor: pointer;
  display: inline-block;
  max-width: 180px;
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
}
```

## 优化效果

### 1. 页面简洁性
- 减少了表格列的显示，使页面更加简洁
- 聚焦于核心信息：任务ID、名称、状态、创建时间
- 保留了必要的操作功能

### 2. 信息层次
- 主表格显示基本信息，详情对话框显示完整信息
- 用例例次执行信息表格专注于执行状态和结果
- 移除了冗余的时间信息

### 3. 用户体验
- 减少了信息噪音，用户可以更快找到关键信息
- 保持了功能的完整性，不影响任务管理操作
- 详情页面仍然提供完整的信息查看

## 保留的功能

### 1. 任务管理功能
- ✅ 任务启动
- ✅ 任务停止
- ✅ 任务删除
- ✅ 任务详情查看

### 2. 执行监控功能
- ✅ 执行进度显示
- ✅ 执行结果统计
- ✅ 用例例次执行信息
- ✅ 实时刷新功能

### 3. 任务创建功能
- ✅ 基本信息设置
- ✅ 采集策略选择
- ✅ 环境编排配置

## 总结

通过移除不需要展示的字段，采集任务管理页面变得更加简洁和易用：

1. **简化了主表格**：只显示核心信息，减少视觉干扰
2. **优化了详情页面**：保留必要信息，移除冗余字段
3. **保持了功能完整**：所有管理功能都得到保留
4. **提升了用户体验**：页面更加清晰，操作更加直观

这些优化使页面更加专注于任务管理的核心功能，同时保持了良好的用户体验。
